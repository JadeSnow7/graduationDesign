% !TEX program = xelatex
\documentclass[UTF8,zihao=-4,oneside]{ctexbook}

\usepackage[a4paper,top=2.5cm,bottom=2.5cm,left=3cm,right=2.5cm]{geometry}
\usepackage{setspace}
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{array}
\usepackage{amsmath,amssymb}
\usepackage{hyperref}
\usepackage{fancyhdr}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{enumitem}
\usepackage{csquotes}
\usepackage[
  backend=biber,
  style=gb7714-2015,
  sorting=none
]{biblatex}
\addbibresource{references.bib}

\setlength{\parindent}{2em}
\setlength{\parskip}{0pt}
\onehalfspacing

\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[LO]{\nouppercase{\leftmark}}
\fancyhead[RE]{\nouppercase{\rightmark}}
\renewcommand{\headrulewidth}{0.4pt}

\newcommand{\HUSTTitle}{毕业论文题目}
\newcommand{\HUSTSubtitle}{}
\newcommand{\HUSTAuthor}{张三}
\newcommand{\HUSTStudentId}{2020123456}
\newcommand{\HUSTMajor}{计算机科学与技术}
\newcommand{\HUSTSchool}{计算机科学与技术学院}
\newcommand{\HUSTAdvisor}{李四 教授}
\newcommand{\HUSTDate}{2025年5月}

\newcommand{\makecover}{%
  \thispagestyle{empty}%
  \begin{center}
    \vspace*{1.5cm}
    {\zihao{2}\bfseries 华中科技大学本科毕业论文\par}
    \vspace{1cm}
    {\zihao{-2}\bfseries \HUSTTitle\par}
    \ifx\HUSTSubtitle\empty\else
      \vspace{0.5cm}
      {\zihao{3}\bfseries \HUSTSubtitle\par}
    \fi
  \end{center}
  \vfill
  \begin{center}
    \renewcommand{\arraystretch}{1.5}
    \begin{tabular}{rl}
      学生姓名： & \HUSTAuthor \\
      学\hspace{2em}号： & \HUSTStudentId \\
      专\hspace{2em}业： & \HUSTMajor \\
      学\hspace{2em}院： & \HUSTSchool \\
      指导教师： & \HUSTAdvisor \\
    \end{tabular}
  \end{center}
  \vfill
  \begin{center}
    \HUSTDate
  \end{center}
  \clearpage
}

\begin{document}
\frontmatter
\makecover
\input{chapters/statement}
\input{chapters/abstract}
\input{chapters/abstract-en}
\tableofcontents
\listoffigures
\listoftables

\mainmatter
\input{chapters/chapter1}
\input{chapters/chapter2}
\input{chapters/conclusion}

\appendix
\input{chapters/appendix}

\backmatter
\printbibliography[heading=bibintoc]

\end{document}
